{% set classes = classes is defined ? classes : [] %}
{% set attributes = attributes is defined ? attributes : {} %}

{% if class is defined %}
    {% set classes = classes|merge(class) %}
{% endif %}

{% set attributes = classes|length ? attributes|merge({
    'class': classes|join(' ')
}) : attributes %}

{% if attributes is defined %}
    {% set attributes = attributes|merge(attributes) %}
{% endif %}

{% for attr, value in attributes %}
    {{ attr }}="{{ value|e("html_attr") }}"
    {% if not loop.last %}{% endif %}
{% endfor %}
