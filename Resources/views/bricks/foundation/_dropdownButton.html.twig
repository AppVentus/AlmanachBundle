{% set almanach = attribute(almanach, framework) %}
{% set classes = classes is defined ? classes : [] %}
{% set attributes = attributes is defined ? attributes : {} %}
{% set link = link|default('#') %}
{% set tag = tag|default('button') %}

{% set classes = classes|merge([
    "button",
    "dropdown",
    attribute(almanach.dropdownButton.theme, theme),
    attribute(almanach.dropdownButton.size, size),
    attribute(almanach.dropdownButton.state, state),
    attribute(almanach.dropdownButton.border, border)
]) %}

{% set attributes = attributes|merge({
    "data-dropdown": "drop",
    "aria-controls": "drop",
    "aria-expanded": "false"
}) %}

{% if tag == 'a' %}
    {% set link = {href: link} %}
    {% set defaultAttributes = defaultAttributes|merge(link) %}
{% endif %}

<{{ tag }}
    {% include 'AlmanachBundle:bricks/global:attributes.html.twig' with {
        classes: classes,
        attributes: attributes
    } only %}
>
    {% block content %}
        {{ content|raw }}
    {% endblock %}
</{{ tag }}>
<ul id="drop1" data-dropdown-content class="f-dropdown" aria-hidden="true">
    {#{% for item in list %}#}
        {#<li><a href="{{ item.link }}}">{{ item.label }}</a></li>#}
    {#{% endfor %}#}
    <li><a href="#">Link 1</a></li>
    <li><a href="#">Link 2</a></li>
    <li><a href="#">Link 3</a></li>
</ul>
