{% set almanach = attribute(almanach, framework) %}

{% set defaultAttributes = {} %}

{% set tag = tag|default('button') %}
{% set link = link|default('#') %}
{% if tag == 'a' %}
    {% set link = {href: link} %}
    {% set defaultAttributes = defaultAttributes|merge(link) %}
{% endif %}

{% set classes = [
    "button",
    attribute(almanach.button.theme, theme),
    attribute(almanach.button.size, size),
    attribute(almanach.button.state, state),
    attribute(almanach.button.border, border)
] %}

{#Markup#}
<{{ tag }}
    {% include 'AlmanachBundle:bricks/global:attributes.html.twig' with {
        classes: classes,
        attributes: defaultAttributes,
    } only %}>
    {% block content %}
        {{ content|raw }}
    {% endblock %}
</{{ tag }}>
