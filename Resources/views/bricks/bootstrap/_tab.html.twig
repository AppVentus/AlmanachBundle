{% set almanach = attribute(almanach, framework) %}
{% set tabClass = tabClass is defined ? tabClass : [] %}
{% set tabAttr = tabAttr is defined ? tabAttr : {} %}
{% set contentClass = contentClass is defined ? contentClass : [] %}

{% set tabClass = tabClass|merge([
    'nav',
    attribute(almanach.tab.theme, theme is defined ? theme : 'default'),
    attribute(almanach.tab.style, style is defined ? style : 'default')
]) %}

{% set tabAttr = tabAttr|merge({
    role: 'tablist',
}) %}

{% set contentClass = contentClass|merge([
    'tab-content'
]) %}

<ul {% include 'AlmanachBundle:bricks/global:attributes.html.twig' with {
        class: tabClass,
        attributes: tabAttr
    } only %}
>
    {% block tabTitles %}
        {{ tabTitles|raw }}
    {% endblock %}
</ul>
<div {% include 'AlmanachBundle:bricks/global:attributes.html.twig' with {
        class: contentClass
    } only %}
>
    {% block tabContent %}
        {{ tabContent|raw }}
    {% endblock %}
</div>

<script>
    $('#{{ tabId }} a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
    })
</script>
